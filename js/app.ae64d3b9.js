(function(e){function t(t){for(var a,c,i=t[0],o=t[1],u=t[2],p=0,m=[];p<i.length;p++)c=i[p],n[c]&&m.push(n[c][0]),n[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);l&&l(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,i=1;i<s.length;i++){var o=s[i];0!==n[o]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=s[0]))}return e}var a={},n={app:0},r=[];function c(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=e,c.c=a,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(s,a,function(t){return e[t]}.bind(null,a));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/vue-dragon-game/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=o;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"04ac":function(e,t,s){},1996:function(e,t,s){},2221:function(e,t,s){"use strict";var a=s("04ac"),n=s.n(a);n.a},"23be":function(e,t,s){"use strict";var a=s("2710"),n=s.n(a);t["default"]=n.a},2710:function(e,t){},2856:function(e,t,s){},"38da":function(e,t,s){},"3dfd":function(e,t,s){"use strict";var a=s("5d36"),n=s("23be"),r=(s("5c0b"),s("2877")),c=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,null,null);c.options.__file="App.vue",t["default"]=c.exports},"4d46":function(e,t,s){"use strict";var a=s("68bd"),n=s.n(a);n.a},"514c":function(e,t,s){"use strict";var a=s("a0e2"),n=s.n(a);n.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var a=s("2b0e"),n=s("3dfd"),r=s("8c4f"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"game"},[s("app-header",{attrs:{game:e.game}}),s("div",{staticClass:"container pt-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 col-lg-8 mb-3"},[s("h1",[e._v("Quests Desk")]),s("div",{staticClass:"card-columns"},[s("messages",{attrs:{messages:e.messages}})],1)]),s("div",{staticClass:"col-lg-4 mb-3"},[s("h1",[e._v("Shop")]),s("shop",{attrs:{shop:e.shop}})],1)])]),s("alerts",{attrs:{alerts:e.alerts}})],1)},i=[],o=s("c93e"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar navbar-light bg-light sticky-top"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e._v("Dragons Of Mugloar")]),s("div",{staticClass:"mr-auto"},[s("span",{staticClass:"navbar-text px-2"},[e._v("Lives: "),s("span",{staticClass:"badge badge-danger"},[e._v(e._s(e.game.lives))])]),s("span",{staticClass:"navbar-text px-2"},[e._v("Gold: "),s("span",{staticClass:"badge badge-warning"},[e._v(e._s(e.game.gold))])]),s("span",{staticClass:"navbar-text px-2"},[e._v("Level: "),s("span",{staticClass:"badge badge-info"},[e._v(e._s(e.game.level))])]),s("span",{staticClass:"navbar-text px-2"},[e._v("Turn: "),s("span",{staticClass:"badge badge-dark"},[e._v(e._s(e.game.turn))])])]),s("div",{staticClass:"ml-auto"},[s("span",{staticClass:"navbar-text px-2"},[e._v("Score: "),s("span",{staticClass:"badge badge-secondary"},[e._v(e._s(e.game.score))])]),s("span",{staticClass:"navbar-text px-2"},[e._v("High Score: "),s("span",{staticClass:"badge badge-secondary"},[e._v(e._s(e.game.highScore))])]),s("span",{staticClass:"mx-2"}),s("a",{staticClass:"btn btn-success",attrs:{href:"#",role:"button"},on:{click:function(t){e.newGame()}}},[e._v("New game")])])])},l=[],p={props:["game"],methods:{newGame:function(){this.$store.dispatch("initGame")}}},m=p,f=(s("9a26"),s("2877")),g=Object(f["a"])(m,u,l,!1,null,"a2a62208",null);g.options.__file="Header.vue";var d=g.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.messages,function(e){return s("message",{key:e.adId,attrs:{message:e}})}))},v=[],b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:!e.message.encrypted,expression:"!message.encrypted"}],staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[e._v(e._s(e.message.probability)+" "),s("span",{staticClass:"badge badge-warning"},[e._v(" "+e._s(e.message.reward))])]),s("p",{staticClass:"card-text text-left mb-1"},[e._v(e._s(e.message.message))]),s("p",{staticClass:"card-text d-flex justify-content-between align-items-center"},[s("small",{staticClass:"text-muted"},[e._v("Expires In "+e._s(e.message.expiresIn))]),s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(t){e.acceptQuest(e.message)}}},[e._v("Accept Quest")])])])])},_=[],w={props:["message"],methods:{acceptQuest:function(e){this.$store.dispatch("acceptQuest",e)}}},S=w,x=(s("4d46"),Object(f["a"])(S,b,_,!1,null,"2bfea270",null));x.options.__file="Message.vue";var E=x.exports,y={props:["messages"],components:{Message:E}},C=y,O=(s("b4fe"),Object(f["a"])(C,h,v,!1,null,"ade17ad4",null));O.options.__file="Messages.vue";var j=O.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"list-group"},e._l(e.shop,function(t){return s("a",{key:t.Id,staticClass:"list-group-item",attrs:{href:"#"},on:{click:function(s){e.buyShopItem(t)}}},[e._v("\n\t\t"+e._s(t.name)+"\n\t\t"),s("span",{staticClass:"badge badge-warning"},[e._v(e._s(t.cost))])])}))},R=[],A={props:["shop"],methods:{buyShopItem:function(e){this.$store.dispatch("purchaseItem",e)}}},T=A,G=(s("514c"),Object(f["a"])(T,k,R,!1,null,"a62a53de",null));G.options.__file="Shop.vue";var M=G.exports,I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"alerts-container",attrs:{role:"alert"}},[s("transition-group",{attrs:{name:"fade"}},e._l(e.alerts,function(t,a){return s("div",{key:a,staticClass:"alert",class:{"alert-success":t.success,"alert-danger":!t.success},attrs:{role:"alert"}},[e._v("\n    "+e._s(t.message)+"\n  ")])}))],1)},P=[],$={props:["alerts"]},L=$,N=(s("f1c4"),Object(f["a"])(L,I,P,!1,null,null,null));N.options.__file="Alerts.vue";var Q=N.exports,H=s("2f62"),D={components:{appHeader:d,messages:j,shop:M,alerts:Q},computed:Object(o["a"])({},Object(H["b"])(["game","messages","shop","alerts"])),created:function(){this.$store.dispatch("initGame")}},J=D,V=(s("2221"),Object(f["a"])(J,c,i,!1,null,null,null));V.options.__file="Game.vue";var F=V.exports;a["a"].use(r["a"]);var W=new r["a"]({mode:"history",base:"/vue-dragon-game/",routes:[{path:"/",name:"game",component:F}]}),q=(s("96cf"),s("3040")),z=s("bc3a"),B=s.n(z),K={game:[]},U={SET_GAME:function(e,t){e.game=t},NEW_GAME_OPTIONS:function(e,t){delete e.game.success,delete e.game.shoppingSuccess,e.game=Object(o["a"])({},e.game,t)}},X={initGame:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var s,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,a=t.dispatch,n=t.getters,e.prev=1,e.next=4,B.a.post("https://www.dragonsofmugloar.com/api/v2/game/start").then(function(e){var t=e.data;s("SET_GAME",t),a("initMessages",n.game),a("initShop",n.game)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),a("alertError",e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),acceptQuest:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,s){var a,n,r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.dispatch,n=t.getters,r=n.game,c={game:r,message:s},a("solveMessage",c);case 4:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),purchaseItem:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,s){var a,n,r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.dispatch,n=t.getters,r=n.game,c={game:r,item:s},a("buyShopItem",c);case 4:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),fetchNewGameValues:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,s){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,n=t.dispatch,a("NEW_GAME_OPTIONS",s),s.hasOwnProperty("success")&&n("alertSuccess",s),s.hasOwnProperty("shoppingSuccess")&&n("alertShoppingSuccess",s),0===s.lives&&(n("alertGameEnd",s),n("initGame"));case 5:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}()},Y={game:function(e){return e.game}},Z={state:K,mutations:U,actions:X,getters:Y},ee={messages:[]},te={SET_MESSAGES:function(e,t){e.messages=t}},se={initMessages:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,s){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.dispatch,e.prev=1,e.next=4,B.a.get("https://www.dragonsofmugloar.com/api/v2/"+s.gameId+"/messages").then(function(e){return e.data}).then(function(e){return a("SET_MESSAGES",e)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),n("alertError",e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t,s){return e.apply(this,arguments)}}(),solveMessage:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,s){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,n=s.game,r=s.message,e.prev=2,e.next=5,B.a.post("https://www.dragonsofmugloar.com/api/v2/"+n.gameId+"/solve/"+r.adId).then(function(e){return e.data}).then(function(e){a("initShop",n),a("initMessages",n),a("fetchNewGameValues",e)});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),a("alertError",e.t0);case 10:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t,s){return e.apply(this,arguments)}}()},ae={messages:function(e){return e.messages}},ne={state:ee,mutations:te,actions:se,getters:ae},re={shop:[]},ce={SET_SHOP:function(e,t){e.shop=t}},ie={initShop:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,s){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,n=t.dispatch;try{B.a.get("https://www.dragonsofmugloar.com/api/v2/"+s.gameId+"/shop").then(function(e){return e.data}).then(function(e){return a("SET_SHOP",e)})}catch(e){n("alertError",e)}case 2:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),buyShopItem:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,s){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,n=s.game,r=s.item,e.prev=2,e.next=5,B.a.post("https://www.dragonsofmugloar.com/api/v2/"+n.gameId+"/shop/buy/"+r.id).then(function(e){return e.data}).then(function(e){a("initShop",n),a("initMessages",n),a("fetchNewGameValues",e)});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),a("alertError",e.t0);case 10:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t,s){return e.apply(this,arguments)}}()},oe={shop:function(e){return e.shop}},ue={state:re,mutations:ce,actions:ie,getters:oe},le={alerts:[]},pe={SET_ALERT:function(e,t){e.alerts.push(t)},DELETE_ALERT:function(e){e.alerts.shift()},CLEAR_ALERTS:function(e){e.alerts=[]}},me={showAlert:function(e,t){var s=e.commit;s("SET_ALERT",t),setTimeout(function(){s("DELETE_ALERT")},3e3)},clearAlerts:function(e){var t=e.commit;t("CLEAR_ALERTS")},alertSuccess:function(e,t){var s=e.dispatch,a={};a=t.success?{success:t.success,message:"Quest Succeed"}:{success:t.success,message:"Quest Failure"},s("showAlert",a)},alertShoppingSuccess:function(e,t){var s=e.dispatch,a={};a=t.shoppingSuccess?{success:t.shoppingSuccess,message:"Purchase Succeed"}:{success:t.shoppingSuccess,message:"Purchase Failure"},s("showAlert",a)},alertGameEnd:function(e,t){var s=e.dispatch,a={};a={success:!1,message:"Game End, your score is: "+t.score},s("showAlert",a)},alertError:function(e,t){var s=e.dispatch,a={};a={success:!1,message:t.response.data},s("showAlert",a)}},fe={alerts:function(e){return e.alerts}},ge={state:le,mutations:pe,actions:me,getters:fe};a["a"].use(H["a"]);var de=new H["a"].Store({modules:{game:Z,messages:ne,shop:ue,alerts:ge}});a["a"].config.productionTip=!1,new a["a"]({router:W,store:de,render:function(e){return e(n["default"])}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";var a=s("2856"),n=s.n(a);n.a},"5d36":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",[s("a",{staticClass:"copyright",attrs:{href:"mailto:jegor.salajev@gmail.com"}},[e._v("© Jegor Šalajev")])])}];s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n})},"68bd":function(e,t,s){},"9a26":function(e,t,s){"use strict";var a=s("aacf"),n=s.n(a);n.a},a0e2:function(e,t,s){},aacf:function(e,t,s){},b4fe:function(e,t,s){"use strict";var a=s("1996"),n=s.n(a);n.a},f1c4:function(e,t,s){"use strict";var a=s("38da"),n=s.n(a);n.a}});
//# sourceMappingURL=app.ae64d3b9.js.map